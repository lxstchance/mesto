(()=>{"use strict";var e={formSelector:".popup__inner",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},t=document.querySelector(".profile__edit-button"),n=document.querySelector(".profile__add-button"),r=document.querySelector(".popup_type_new-element"),o=document.querySelector(".popup__inner"),i=r.querySelector(".popup__inner"),u=document.querySelector(".element-template").content.querySelector(".element");function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}var f=function(){function e(t,n,r){var o=this,i=t.name,u=t.link;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_likeCard",(function(){o._like.classList.toggle("element__heart-button_active")})),a(this,"_deleteCard",(function(){o.elementCard.remove()})),a(this,"_addEventListeners",(function(){o._button.addEventListener("click",(function(){return o._deleteCard()})),o._like.addEventListener("click",(function(){return o._likeCard()})),o._elementImage.addEventListener("click",(function(){o.handelCardClick(o._elementImage,o._elementText)}))})),this._name=i,this._link=u,this.template=n,this.handelCardClick=r}var t,n;return t=e,(n=[{key:"getCard",value:function(){return this.elementCard=this.template.cloneNode(!0),this._elementImage=this.elementCard.querySelector(".element__image"),this._elementText=this.elementCard.querySelector(".element__title"),this._like=this.elementCard.querySelector(".element__heart-button"),this._button=this.elementCard.querySelector(".element__trash-button"),this._elementImage.src=this._link,this._elementImage.alt=this._name,this._elementText.textContent=this._name,this._addEventListeners(),this.elementCard}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function m(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var d=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"_showInputError",(function(e){var t=r._formElement.querySelector(".".concat(e.id,"-error"));t.classList.add(r._settings.errorClass),t.textContent=e.validationMessage})),m(this,"_hideInputError",(function(e){var t=r._formElement.querySelector(".".concat(e.id,"-error"));t.classList.remove(r._settings.errorClass),t.textContent=""})),m(this,"_checkInputValidity",(function(e){r._errorElement=r._formElement.querySelector(".".concat(e.id,"-error")),e.validity.valid?r._hideInputError(e):r._showInputError(e)})),m(this,"_setEventListeners",(function(){r._changeButton(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._changeButton()}))}))})),m(this,"enableValidation",(function(){r._setEventListeners()})),this._settings=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._buttonElement=this._formElement.querySelector(this._settings.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_changeButton",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._settings.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._settings.inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"hideError",value:function(){var e=this;this._changeButton(),this._inputList.forEach((function(t){e._error=e._formElement.querySelector(".".concat(t.id,"-error")),e._hideInputError(t)}))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}var S=function(){function e(t,n){var r,o,i,u=this,l=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,i=function(e){u._container.prepend(e)},(o=_(o="addItem"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,this._renderer=l,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"rendererItems",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleClose",value:function(e){e.target.classList.contains("popup_opened")&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mouseup",(function(t){e._handleClose(t)})),this._popup.querySelector(".popup__close-btn").addEventListener("click",(function(){e.close()}))}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function L(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===j(t)?t:String(t)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(n);if(r){var o=C(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function i(e){var t,n,r,u,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=O(n=o.call(this,e)),l=function(e){n._zoomText.textContent=e.name,n._zoomImage.src=e.link,n._zoomImage.alt="Фотография: ".concat(e.name),P((t=O(n),C(i.prototype)),"open",t).call(t)},(u=L(u="open"))in r?Object.defineProperty(r,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[u]=l,n._zoomImage=n._popup.querySelector(".popup__image"),n._zoomText=n._popup.querySelector(".popup__text"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(E);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===q(o)?o:String(o)),r)}var o}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},T.apply(this,arguments)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._callbackSubmitForm=t,n._form=n._popup.querySelector(".popup__inner"),n._inputs=n._form.querySelectorAll(".popup__input"),n._submit=n._form.querySelector(".popup__submit-btn"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._values={},this._inputs.forEach((function(t){e._values[t.name]=t.value})),this._values}},{key:"setInputValues",value:function(e){this._inputs.forEach((function(t){t.value=e[t.name]}))}},{key:"close",value:function(){T(B(u.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;T(B(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmitForm(e._getInputValues())}))}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(E);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===z(o)?o:String(o)),r)}var o}var U=function(){function e(t){var n=t.titleSelector,r=t.subtitleSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=document.querySelector(n),this._subtitle=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._title.textContent,career:this._subtitle.textContent}}},{key:"setUserInfo",value:function(e,t){this._title.textContent=e,this._subtitle.textContent=t}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),A=new d(e,o),F=new d(e,i);function M(e){return new f(e,u,(function(){return K.open(e)})).getCard()}A.enableValidation(),F.enableValidation();var N=new U({titleSelector:".profile__title",subtitleSelector:".profile__subtitle"}),G=new V(".popup",(function(e){N.setUserInfo(e.name,e.career),G.close()}));G.setEventListeners();var H=new S({renderer:function(e){return H.addItem(M(e))}},".elements__list"),J=new V(".popup_type_new-element",(function(e){H.addItem(M(e)),J.close()}));J.setEventListeners();var K=new I(".popup_type_image");K.setEventListeners(),t.addEventListener("click",(function(){return e=N.getUserInfo(),G.setInputValues(e),A.hideError(),void G.open();var e})),n.addEventListener("click",(function(){return F.hideError(),void J.open()})),H.rendererItems([{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}])})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBU08sY0FDdEJOLEVBQWVPLGVBQWU1QixHQUM5QmEsRUFBa0JnQixpQkFDbEJSLEVBQWVKLE9BSm5CLElBQ1VqQixDQXFDcUQsSUFDL0R6RyxFQUFpQnFCLGlCQUFpQixTQUFTLGtCQS9CdkNrRyxFQUFlZSxpQkFDZkgsRUFBZVQsTUE4QjRDLElBRS9ETyxFQUFZTSxjUnBGUyxDQUNqQixDQUNJNUgsS0FBTSxRQUNOQyxLQUFNLGlGQUVWLENBQ0lELEtBQU0sc0JBQ05DLEtBQU0sNkZBRVYsQ0FDSUQsS0FBTSxVQUNOQyxLQUFNLGtGQUVWLENBQ0lELEtBQU0sV0FDTkMsS0FBTSxvRkFFVixDQUNJRCxLQUFNLHFCQUNOQyxLQUFNLDZGQUVWLENBQ0lELEtBQU0sU0FDTkMsS0FBTSxrRiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0JjQstCw0L3QvtCy0L4nLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcclxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXHJcbiAgICB9XHJcbl07XHJcblxyXG5jb25zdCBzZXR0aW5ncyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogYC5wb3B1cF9faW5uZXJgLCAvL2Zvcm1cclxuICAgIGlucHV0U2VsZWN0b3I6IGAucG9wdXBfX2lucHV0YCwgLy9pbnB1dFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IGAucG9wdXBfX3N1Ym1pdC1idG5gLCAvL9C60L3QvtC/0LrQsFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogYHBvcHVwX19zdWJtaXQtYnRuX2luYWN0aXZlYCwgLy8g0L3QtdCw0LrRgtC40LLQvdCw0Y8g0LrQvdC+0L/QutCwXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IGBwb3B1cF9faW5wdXRfdHlwZV9lcnJvcmAsIC8vaW5wdXQtZXJyb3JcclxuICAgIGVycm9yQ2xhc3M6IGBwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlYCwgLy9zcGFuLWVycm9yXHJcbn07XHJcblxyXG5jb25zdCBwcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmNvbnN0IGJ1dHRvbkFkZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5cclxuY29uc3QgcG9wdXBFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX25ldy1lbGVtZW50Jyk7XHJcbmNvbnN0IGZvcm1FZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lubmVyJyk7XHJcbmNvbnN0IGZvcm1BZGRDYXJkRm9ybSA9IHBvcHVwRWxlbWVudHMucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbm5lcicpO1xyXG5cclxuY29uc3QgZWxlbWVudFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQtdGVtcGxhdGUnKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50Jyk7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICBwb3B1cEVkaXQ6ICcucG9wdXAnLFxyXG4gICAgcG9wdXBBZGRDYXJkOiAnLnBvcHVwX3R5cGVfbmV3LWVsZW1lbnQnLFxyXG4gICAgcG9wdXBJbWFnZTogJy5wb3B1cF90eXBlX2ltYWdlJyxcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBpbml0aWFsQ2FyZHMsXHJcbiAgICBzZXR0aW5ncyxcclxuICAgIHByb2ZpbGVCdXR0b24sXHJcbiAgICBidXR0b25BZGRFbGVtZW50LFxyXG4gICAgZWxlbWVudFRlbXBsYXRlLFxyXG4gICAgY29uZmlnLFxyXG4gICAgZm9ybUVkaXRQcm9maWxlRm9ybSxcclxuICAgIGZvcm1BZGRDYXJkRm9ybVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmsgfSwgdGVtcGxhdGUsIGhhbmRlbENhcmRDbGljaykge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLmhhbmRlbENhcmRDbGljayA9IGhhbmRlbENhcmRDbGljaztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgX2xpa2VDYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2xpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9faGVhcnQtYnV0dG9uX2FjdGl2ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIF9kZWxldGVDYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudENhcmQucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FyZCgpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRDYXJkID0gdGhpcy50ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudEltYWdlID0gdGhpcy5lbGVtZW50Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50VGV4dCA9IHRoaXMuZWxlbWVudENhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJyk7XHJcbiAgICAgICAgdGhpcy5fbGlrZSA9IHRoaXMuZWxlbWVudENhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2hlYXJ0LWJ1dHRvbicpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuZWxlbWVudENhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RyYXNoLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50SW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50VGV4dC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudENhcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2RlbGV0ZUNhcmQoKSk7XHJcbiAgICAgICAgdGhpcy5fbGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2xpa2VDYXJkKCkpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kZWxDYXJkQ2xpY2sodGhpcy5fZWxlbWVudEltYWdlLCB0aGlzLl9lbGVtZW50VGV4dCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG5cclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIH07XHJcblxyXG4gICAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIH07XHJcblxyXG4gICAgX2NoYW5nZUJ1dHRvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBoaWRlRXJyb3IoKSB7XHJcbiAgICAgICAgdGhpcy5fY2hhbmdlQnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9lcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoYW5nZUJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VCdXR0b24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH07XHJcblxyXG4gICAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyZXJJdGVtcyhpdGVtcykge1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbSA9IChpdGVtKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUNsb3NlKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDbG9zZShldmVudClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnRuXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3pvb21JbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl96b29tVGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdGV4dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4gPSAoaXRlbSkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3pvb21UZXh0LnRleHRDb250ZW50ID0gaXRlbS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX3pvb21JbWFnZS5zcmMgPSBpdGVtLmxpbms7XHJcbiAgICAgICAgdGhpcy5fem9vbUltYWdlLmFsdCA9IGDQpNC+0YLQvtCz0YDQsNGE0LjRjzogJHtpdGVtLm5hbWV9YDtcclxuXHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBjYWxsYmFja1N1Ym1pdEZvcm0pIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tTdWJtaXRGb3JtID0gY2FsbGJhY2tTdWJtaXRGb3JtO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lubmVyJyk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdC1idG4nKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl92YWx1ZXMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgdGl0bGVTZWxlY3Rvciwgc3VidGl0bGVTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRpdGxlU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3N1YnRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzdWJ0aXRsZVNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl90aXRsZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgY2FyZWVyOiB0aGlzLl9zdWJ0aXRsZS50ZXh0Q29udGVudCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8odGl0bGUsIHN1YnRpdGxlKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLl9zdWJ0aXRsZS50ZXh0Q29udGVudCA9IHN1YnRpdGxlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0ICcuLi9wYWdlcy9pbmRleC5jc3MnO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIGluaXRpYWxDYXJkcyxcclxuICAgIHNldHRpbmdzLFxyXG4gICAgcHJvZmlsZUJ1dHRvbixcclxuICAgIGJ1dHRvbkFkZEVsZW1lbnQsXHJcbiAgICBlbGVtZW50VGVtcGxhdGUsXHJcbiAgICBjb25maWcsXHJcbiAgICBmb3JtRWRpdFByb2ZpbGVGb3JtLFxyXG4gICAgZm9ybUFkZENhcmRGb3JtXHJcbn0gZnJvbSAnLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcblxyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5cclxuY29uc3QgcHJvZmlsZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZm9ybUVkaXRQcm9maWxlRm9ybSk7XHJcbmNvbnN0IGNhcmRWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGZvcm1BZGRDYXJkRm9ybSk7XHJcblxyXG5wcm9maWxlVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNhcmRWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xyXG4gICAgcmV0dXJuIG5ldyBDYXJkKGl0ZW0sIGVsZW1lbnRUZW1wbGF0ZSwgKCkgPT5cclxuICAgICAgICBwb3B1cE9wZW5JbWFnZS5vcGVuKGl0ZW0pXHJcbiAgICApLmdldENhcmQoKVxyXG59O1xyXG5cclxuZnVuY3Rpb24gc2V0Rm9ybVZhbHVlcyh2YWx1ZSkge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odmFsdWUubmFtZSwgdmFsdWUuY2FyZWVyKVxyXG4gICAgY2xhc3NFZGl0UG9wdXAuY2xvc2UoKVxyXG59O1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gICAgdGl0bGVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICAgIHN1YnRpdGxlU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIsXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gb3BlbkVkaXRQcm9maWxlKCkge1xyXG4gICAgY29uc3QgZGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgICBjbGFzc0VkaXRQb3B1cC5zZXRJbnB1dFZhbHVlcyhkYXRhKTtcclxuICAgIHByb2ZpbGVWYWxpZGF0aW9uLmhpZGVFcnJvcigpO1xyXG4gICAgY2xhc3NFZGl0UG9wdXAub3BlbigpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcG9wdXBBZGRDYXJkKCkge1xyXG4gICAgY2FyZFZhbGlkYXRpb24uaGlkZUVycm9yKClcclxuICAgIGNsYXNzQ2FyZFBvcHVwLm9wZW4oKVxyXG59O1xyXG5cclxuY29uc3QgY2xhc3NFZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgIGNvbmZpZy5wb3B1cEVkaXQsXHJcbiAgICBzZXRGb3JtVmFsdWVzXHJcbik7XHJcbmNsYXNzRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAge1xyXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4gY2FyZFNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKSxcclxuICAgIH0sXHJcbiAgICBcIi5lbGVtZW50c19fbGlzdFwiXHJcbik7XHJcblxyXG5jb25zdCBjbGFzc0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgY29uZmlnLnBvcHVwQWRkQ2FyZCxcclxuICAgIChpdGVtKSA9PiB7XHJcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKVxyXG4gICAgICAgIGNsYXNzQ2FyZFBvcHVwLmNsb3NlKClcclxuICAgIH1cclxuKTtcclxuXHJcbmNsYXNzQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cE9wZW5JbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShjb25maWcucG9wdXBJbWFnZSk7XHJcbnBvcHVwT3BlbkltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5wcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3BlbkVkaXRQcm9maWxlKCkpO1xyXG5idXR0b25BZGRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcG9wdXBBZGRDYXJkKCkpO1xyXG5cclxuY2FyZFNlY3Rpb24ucmVuZGVyZXJJdGVtcyhpbml0aWFsQ2FyZHMpO1xyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJwcm9maWxlQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnV0dG9uQWRkRWxlbWVudCIsInBvcHVwRWxlbWVudHMiLCJmb3JtRWRpdFByb2ZpbGVGb3JtIiwiZm9ybUFkZENhcmRGb3JtIiwiZWxlbWVudFRlbXBsYXRlIiwiY29udGVudCIsIkNhcmQiLCJfcmVmIiwidGVtcGxhdGUiLCJoYW5kZWxDYXJkQ2xpY2siLCJfdGhpcyIsIm5hbWUiLCJsaW5rIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2RlZmluZVByb3BlcnR5IiwiX2xpa2UiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJlbGVtZW50Q2FyZCIsInJlbW92ZSIsIl9idXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUNhcmQiLCJfbGlrZUNhcmQiLCJfZWxlbWVudEltYWdlIiwiX2VsZW1lbnRUZXh0IiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJrZXkiLCJ2YWx1ZSIsImNsb25lTm9kZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiY29uY2F0IiwiaWQiLCJhZGQiLCJfc2V0dGluZ3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvckVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX2NoYW5nZUJ1dHRvbiIsIl9pbnB1dExpc3QiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIl90aGlzMiIsIl9lcnJvciIsInNvbWUiLCJTZWN0aW9uIiwiY29udGFpbmVyIiwicmVuZGVyZXIiLCJpdGVtIiwiX2NvbnRhaW5lciIsInByZXBlbmQiLCJfcmVuZGVyZXIiLCJpdGVtcyIsIlBvcHVwIiwic2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJldmVudCIsIl9oYW5kbGVDbG9zZSIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX3RoaXNTdXBlciIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJjYWxsIiwiX3pvb21UZXh0IiwiX3pvb21JbWFnZSIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2tTdWJtaXRGb3JtIiwiX2NhbGxiYWNrU3VibWl0Rm9ybSIsIl9mb3JtIiwiX2lucHV0cyIsIl9zdWJtaXQiLCJfdmFsdWVzIiwiaW5wdXQiLCJkYXRhIiwicmVzZXQiLCJfdGhpczMiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIlVzZXJJbmZvIiwidGl0bGVTZWxlY3RvciIsInN1YnRpdGxlU2VsZWN0b3IiLCJfdGl0bGUiLCJfc3VidGl0bGUiLCJjYXJlZXIiLCJ0aXRsZSIsInN1YnRpdGxlIiwicHJvZmlsZVZhbGlkYXRpb24iLCJjYXJkVmFsaWRhdGlvbiIsImNyZWF0ZUNhcmQiLCJwb3B1cE9wZW5JbWFnZSIsIm9wZW4iLCJnZXRDYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsInVzZXJJbmZvIiwiY2xhc3NFZGl0UG9wdXAiLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwiY2xhc3NDYXJkUG9wdXAiLCJnZXRVc2VySW5mbyIsInNldElucHV0VmFsdWVzIiwiaGlkZUVycm9yIiwicmVuZGVyZXJJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=